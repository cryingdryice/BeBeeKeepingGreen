@startuml

state 메인화면 {
    [*] --> 로그인화면
    [*] --> 회원가입화면
    [*] --> 지도페이지
    [*] --> 기록페이지

    state 로그인화면 {
        [*] --> 로그인폼
        로그인폼 : 사용자 로그인 화면
        로그인폼 --> 로그인성공 : 유효한 자격
        로그인성공 : 로그인 성공 처리
        로그인성공 --> 메인화면 : 자동 이동
        로그인폼 --> 로그인실패 : 잘못된 자격
        로그인실패 : 로그인 실패 처리
        로그인실패 --> 로그인폼
    }

    state 회원가입화면 {
        [*] --> 회원가입폼
        회원가입폼 : 사용자 회원가입 화면
        회원가입폼 --> 회원가입성공 : 유효한 입력값 제공
        회원가입성공 : 회원가입 성공 처리
        회원가입성공 --> 메인화면 : 자동 이동
        회원가입폼 --> 회원가입실패 : 잘못된 입력값 제공
        회원가입실패 : 회원가입 실패 처리
        회원가입실패 --> 회원가입폼
    }

    로그인성공 --> 지도페이지 : 자동 이동
    로그인성공 --> 기록페이지 : 자동 이동
}

state 지도페이지 {
    [*] --> 식물검색
    식물검색 : 식물 검색 화면
    식물검색 --> 검색결과 : 검색어 입력 후 검색
    검색결과 : 검색 결과 표시
    검색결과 --> 위치등록요청폼 : 위치 등록 요청 버튼 클릭
    위치등록요청폼 : 위치 등록 요청 화면
    위치등록요청폼 --> 등록요청성공 : 위치 정보 요청 입력 후 등록
    등록요청성공 : 위치 등록 요청 성공
    등록요청성공 --> 식물검색
    위치등록요청폼 --> 등록요청실패 : 위치 정보 입력 실패
    등록요청실패 : 등록 실패 메시지
    등록요청실패 --> 위치등록요청폼
}

state 기록페이지 {
    [*] --> 기록목록
    기록목록 : 기록 목록 화면
    기록목록 --> 기록생성폼 : 기록 저장 버튼 클릭
    기록생성폼 : 기록 목록 화면
    기록생성폼 --> 생성성공 : 기록 내용 입력 후 생성
    생성성공 : 기록 생성 성공
    생성성공 --> 기록목록
    기록생성폼 --> 생성실패 : 기록 내용 입력 실패
    생성실패 : 생성 실패 메시지
    생성실패 --> 기록생성폼
    기록목록 --> 기록삭제폼 : 기록 삭제 버튼 클릭
    기록삭제폼 : 기록 삭제 확인 화면
    기록삭제폼 --> 삭제성공 : 삭제 확인
    삭제성공 : 기록 삭제 성공
    삭제성공 --> 기록목록
    기록삭제폼 --> 삭제실패 : 삭제 취소
    삭제실패 : 삭제 취소 처리
    삭제실패 --> 기록목록
}


지도페이지 --> 로그인화면 : 로그인 필요
기록페이지 --> 로그인화면 : 로그인 필요
기록페이지 --> 로그인화면 : 홈 버튼 클릭
로그인화면 --> 메인화면 : 홈 버튼 클릭
지도페이지 --> 메인화면 : 홈 버튼 클릭
기록페이지 --> 메인화면 : 홈 버튼 클릭
회원가입화면 --> 메인화면 : 홈 버튼 클릭

@enduml
